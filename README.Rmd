---
output: rmarkdown::github_document
always_allow_html: yes
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
```

# LIME Diagnostics Paper

This repository contains the files associated with the paper "Visual Diagnostics of a Model Explainer -- Tools for the Assessment of LIME Explanations" by Katherine Goode and Heike Hofmann. The rest of this readme contains information about the files in the repository, instructions for knitting the paper, descriptions of the bullet data used in the paper, and information on the font sizes used for the figures in the manuscript.

### Description of Items in Repository

**Folders**

- `figure-static` contains the figures in the paper that are not generated by R.
- `old-version` contains the files associated with an old version of the paper that is much longer the the submitted version.
- `submission` contains all of the files submitted to the ASA data science journal.
  - Note that the paper is specified slightly different in this folder in order to meet the requirements of the ASA data science journal. For example, the figure path in the .Rnw saves the generated figures in the main folder (instead of a figures folder), and the paths in the .Rnw file are different. It also contains additional files such as data (whereas the data used by the .Rnw file in the main folder is stored elsewhere).

**Files**

- `.gitignore` contains objects to be ignored by git.
- `paper.Rnw` and `paper.pdf` are the manuscript.
- `references.bib` contains the bibtex information for the 
- `WileyNJG-AMS.bst` and `WileyNJG-v2.cls` contain the latex formatting specifications for the ASA data science journal.

### Instructions for Knitting Paper

**Note**: When the paper is knit, various files will be generated (such as data-bullet-explain.rds and figure-10-1.png). The first time the paper is knit, it will take approximately an hour to run. Once these files have been generated during the first knit, the paper will take much less time to knit (approximately 1 minute).

Follow these instructions to knit the paper:

1. Pull the repository from GitHub.
2. Unzip all .zip files in the repository (data-bullet-train.csv.zip, data-bullet-test.csv.zip, data-example-signatures.csv.zip, and figure-08-1.png.zip).
3. Install R packages goodekat/lime and goodekat/limeaid R from GitHub using devtools.

```{r eval = FALSE}
devtools::install_github("goodekat/lime")
devtools::install_github("goodekat/limeaid")
```

4. Knit paper (via the paper.Rnw file).

### Figure Font Size Information

The font sizes in the figures are calculated based on how the figures are scaled due to the specification of both fig.width and out.width in the Rnw file to ensure that they are consistent across figures. The text sizes are either set to 7 pt or 5.5 pt as indicated by the table below. Note that the text in the manuscript is 9 pt and a similar approach was used to ensure that line sizes are larger than 0.5 pt.

| Part of Graphic | Font Size |
| --------------- | --------- | 
| Title | 7 pt |
| Subtitle | 7 pt |
| Axis labels | 7 pt |
| Facet labels that act as x-axis or y-axis labels | 7 pt |
| Facet labels that act as titles for lime R package plots | 7 pt |
| Legend titles | 7 pt |
| Interior labels (such as those created using geom_text) | 7 pt |
| Axis tick labels | 5.5 pt |
| Facet labels (general) | 5.5 pt |
| Legend labels | 5.5 pt |

### Steps for Preparing Submission Folder

Follow these steps to make sure all guidelines are met for submission.

1. Knit paper (to make sure everything is up to date).
2. Run the code in the file code-extract-paper-code.R to produce an R script with all of the code from the manuscript (paper.Rnw).
3. 

### Additional Information on Bullet Data